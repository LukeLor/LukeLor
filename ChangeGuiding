local Players = game:GetService("Players")
local SoundService = game:GetService("SoundService")

local Camera = workspace.CurrentCamera
local DeathName = "DeathBackgroundBlue"

local backgroundColor = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(
150, 255, 150
    )),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(150, 255, 150

    ))
})

local Player = Players.LocalPlayer
local PlayerGui = Player:WaitForChild("PlayerGui")
local MainUI = PlayerGui:WaitForChild("MainUI")
local Death = MainUI:WaitForChild("Death")
local HelpfulDialogue = Death:WaitForChild("HelpfulDialogue")
local MainGame = MainUI:WaitForChild("Initiator"):WaitForChild("Main_Game")
local Health = MainGame:WaitForChild("Health")
local Music = Health:WaitForChild("Music")



Camera.ChildAdded:Connect(function(Child)
    if Child.Name ~= DeathName then return end
    

    for _, Asset in Music:GetChildren() do
        if Asset:IsA("Sound") then
            --nil
        end
    end

    local Lights = Child:WaitForChild("Lights")
    local Fog = Child:WaitForChild("FogAndSmaller")
    local Water = Child:WaitForChild("Water")

    for _, Light in Lights:GetDescendants() do
        if Light:IsA("SpotLight") then
            Light.Color = Color3.fromRGB(150, 255, 150)
        end
        if Light:IsA("ParticleEmitter") then
            Light.Color = backgroundColor
        end
    end

    for _, FogL in Fog:GetChildren() do
        FogL.Color = backgroundColor
    end

    for _, WaterL in Water:GetChildren() do
        WaterL.Color = backgroundColor
    end

    local BigLight = Lights:FindFirstChild("BigLight")
    if BigLight then
        local Attachment = BigLight:FindFirstChild("Attachment")
        if Attachment then
            local Moon = Attachment:FindFirstChild("Moon")
            if Moon then
                Moon.Texture = "rbxassetid://123535107502536"
            end
        end
    end

    HelpfulDialogue.TextColor3 = Color3.fromRGB(150,255,150)

end)

